# Copy this file to .env.local and fill in your values

# Supabase Configuration
# Get these from: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
# App URL:
# - Local: http://localhost:3000
# - Vercel: set to your production domain (recommended), e.g. https://your-domain.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Unity Brain (external secured intelligence service)
# Server-to-server only. Do NOT expose these to the browser.
# Production Brain URL (preferred):
BRAIN_API_URL=http://unitybrein-env.eba-3bzvyngj.us-east-2.elasticbeanstalk.com
# Backward-compatible (optional):
UNITY_BRAIN_URL=http://unitybrein-env.eba-3bzvyngj.us-east-2.elasticbeanstalk.com
# Local dev (current repo unity-brain):
# UNITY_BRAIN_URL=http://localhost:4020

# Central Office (Unity Brain) URL:
# - Local dev (current repo unity-brain): http://localhost:4020
# - External Brain service (integration target): http://unitybrein-env.eba-3bzvyngj.us-east-2.elasticbeanstalk.com
UNITY_BRAIN_OFFICE_URL=http://unitybrein-env.eba-3bzvyngj.us-east-2.elasticbeanstalk.com

# Client-side (WebSocket) connection to Unity Brain (used for realtime insights).
# If you serve the app over HTTPS, use wss:// here.
NEXT_PUBLIC_UNITY_BRAIN_WS_URL=ws://unitybrein-env.eba-3bzvyngj.us-east-2.elasticbeanstalk.com/ws

# Unity Brain handshake (Unity Credit -> Unity Brain)
# - Unity Credit will send: x-app-id=UNITY_CREDIT_APP_ID and App-Key=UNITY_CREDIT_APP_KEY
# - Unity Brain validates it against UNITY_BRAIN_APP_KEYS_JSON
UNITY_CREDIT_APP_ID=unity-credit
UNITY_CREDIT_APP_KEY=change-me
UNITY_BRAIN_APP_KEYS_JSON={"unity-credit":"change-me"}

# Production token (preferred, 128-bit+):
MASTER_BRAIN_KEY=replace-with-long-secret
# Backward-compatible (optional):
UNITY_BRAIN_KEY=replace-with-long-secret
# Preferred name for the server-to-server handshake (kept server-side only).
# If set, this is used instead of UNITY_BRAIN_KEY.
UNITY_BRAIN_LICENSE_KEY=replace-with-long-secret
# App identity header sent to Unity Brain (server-to-server).
UNITY_APP_ID=UnityCredit-01
# Optional override for the domain identity sent to Unity Brain (otherwise derives from Host header)
UNITY_APP_DOMAIN=localhost:3000

# Email (Resend) — required for Enterprise OTP + email alerts
# NOTE: Do NOT commit real secrets. Put real values in .env.local only.
RESEND_API_KEY=your_resend_api_key
RESEND_FROM="Unity Credit <no-reply@yourdomain.com>"

# Bank Connection (Plaid)
PLAID_CLIENT_ID=your_plaid_client_id
PLAID_SECRET=your_plaid_secret
PLAID_ENV=sandbox
PLAID_REDIRECT_URI=

# Dev-only toggles (never enable in production)
# Skip middleware auth gating (development only)
UNITYCREDIT_DEV_BYPASS_AUTH=false
# Allow dashboard UI without DB/auth for local UI work (development only)
NEXT_PUBLIC_DEV_GUEST_MODE=false

# Optional external advice provider key (server-side only)
# (Primary intelligence routes through the external Brain service; this key is optional.)
EXTERNAL_ADVICE_PROVIDER_KEY=your_provider_api_key

# Stripe Billing (Premium Trial → Subscription)
# Required for real billing; if omitted, the app falls back to demo mode for investor demos.
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
# Webhook secret for /api/stripe/webhook (recommended for production)
STRIPE_WEBHOOK_SECRET=whsec_...
# Stripe Price ID for your Premium subscription price (recurring monthly)
STRIPE_PREMIUM_PRICE_ID=price_...
# Optional: return URL for the Stripe Customer Portal (defaults to /settings)
STRIPE_BILLING_PORTAL_RETURN_URL=http://localhost:3000/settings
# Optional display/override values (cents)
NEXT_PUBLIC_PREMIUM_PRICE_CENTS=4900
PREMIUM_PRICE_CENTS=4900
PREMIUM_CURRENCY=usd

